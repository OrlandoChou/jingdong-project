"use strict";(self["webpackChunkjingdong"]=self["webpackChunkjingdong"]||[]).push([[966],{8677:function(e,s,a){a.d(s,{A:function(){return d},g:function(){return c}});var n=a(6768),o=a(4232);const t={class:"toast"};function r(e,s,a,r,i,l){return(0,n.uX)(),(0,n.CE)("div",t,(0,o.v_)(a.message),1)}var i=a(144),l={name:"ToastComponent",props:["message","show"]};const c=()=>{const e=(0,i.Kh)({show:!1,toastMessage:""}),s=s=>{e.show=!0,e.toastMessage=s,setTimeout((()=>{e.show=!1,e.toastMessage=""}),1e3)},{show:a,toastMessage:n}=(0,i.QW)(e);return{show:a,toastMessage:n,showToast:s}};var p=a(1241);const u=(0,p.A)(l,[["render",r],["__scopeId","data-v-6b1409a4"]]);var d=u},253:function(e,s,a){a.r(s),a.d(s,{default:function(){return L}});var n=a(6768),o=a(5130);const t=e=>((0,n.Qi)("data-v-68234fb8"),e=e(),(0,n.jt)(),e),r={class:"wrapper"},i=t((()=>(0,n.Lk)("img",{class:"wrapper__img",src:"http://www.dell-lee.com/imgs/vue3/user.png"},null,-1))),l={class:"wrapper__input"},c={class:"wrapper__input"};function p(e,s,a,t,p,u){const d=(0,n.g2)("Toast");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",r,[i,(0,n.Lk)("div",l,[(0,n.bo)((0,n.Lk)("input",{class:"wrapper__input__content",placeholder:"请输入用户名","onUpdate:modelValue":s[0]||(s[0]=e=>t.username=e)},null,512),[[o.Jo,t.username]])]),(0,n.Lk)("div",c,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"wrapper__input__content",placeholder:"请输入密码","onUpdate:modelValue":s[1]||(s[1]=e=>t.password=e),autocomplete:"new-password"},null,512),[[o.Jo,t.password]])]),(0,n.Lk)("div",{class:"wrapper__login-button",onClick:s[2]||(s[2]=(...e)=>t.handleLoginClick&&t.handleLoginClick(...e))},"登录"),(0,n.Lk)("div",{class:"wrapper__login-link",onClick:s[3]||(s[3]=(...e)=>t.handleRegisterView&&t.handleRegisterView(...e))},"立即注册")]),t.show?((0,n.uX)(),(0,n.Wv)(d,{key:0,message:t.toastMessage},null,8,["message"])):(0,n.Q3)("",!0)],64)}a(4114);var u=a(144),d=a(1387),w=a(5067),g=a(8677);const h=e=>{const s=(0,d.rd)(),a=(0,u.Kh)({username:"",password:""}),n=async()=>{try{const a=await(0,w.J)("/login");""===a[0].password?(localStorage.isLogin=!0,s.push({name:"HomeView"})):e("登录失败")}catch(a){e("请求失败")}},{username:o,password:t}=(0,u.QW)(a);return{username:o,password:t,handleLoginClick:n}},m=()=>{const e=(0,d.rd)(),s=()=>{e.push({name:"RegisterView"})};return{handleRegisterView:s}};var _={name:"LoginView",components:{Toast:g.A},setup(){const{show:e,toastMessage:s,showToast:a}=(0,g.g)(),{username:n,password:o,handleLoginClick:t}=h(a),{handleRegisterView:r}=m();return{show:e,toastMessage:s,username:n,password:o,handleLoginClick:t,handleRegisterView:r}}},k=a(1241);const v=(0,k.A)(_,[["render",p],["__scopeId","data-v-68234fb8"]]);var L=v}}]);
//# sourceMappingURL=login.3cf1af08.js.map